#!/bin/bash
# Push schema to remote Supabase project

echo "â¬†ï¸ Pushing schema to remote Supabase..."
echo "âš ï¸  This will apply migrations to the PRODUCTION database!"

# Check if project is linked
if [ ! -f "supabase/.temp/project-ref" ]; then
    echo "âŒ No project linked. Run supabase-link first."
    exit 1
fi

# Push schema changes
pnpm supabase db push

if [ $? -eq 0 ]; then
    echo "âœ… Schema pushed successfully!"
    echo ""
    echo "ğŸš€ Migrations applied to remote database"
    echo "ğŸ’¡ Generate types from remote: pnpm supabase gen types typescript --project-id <your-project-id>"
else
    echo "âŒ Failed to push schema"
    exit 1
fi