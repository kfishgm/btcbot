#!/bin/bash
# Pull schema from remote Supabase project

echo "â¬‡ï¸ Pulling schema from remote Supabase..."

# Check if project is linked
if [ ! -f "supabase/.temp/project-ref" ]; then
    echo "âŒ No project linked. Run supabase-link first."
    exit 1
fi

# Pull schema changes
pnpm supabase db pull

if [ $? -eq 0 ]; then
    echo "âœ… Schema pulled successfully!"
    echo ""
    echo "ğŸ“‹ Changes pulled to: supabase/migrations/"
    echo "ğŸ’¡ Review the changes before applying them locally"
else
    echo "âŒ Failed to pull schema"
    exit 1
fi